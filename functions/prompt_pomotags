# Powerlevel10k custom segment for pomo tags only
# Add 'pomotags' to POWERLEVEL9K_RIGHT_PROMPT_ELEMENTS (or LEFT)
# Use alongside 'pomo' segment for custom positioning of timer and tags

function prompt_pomotags() {
  # Update segment variables (defined in lib/core.zsh)
  _pomo_update_segment

  # Don't show if no timer running or no tags
  if [[ $_POMO_SEGMENT_VISIBLE -eq 0 || $_POMO_SEGMENT_TAGS_VISIBLE -eq 0 ]]; then
    return
  fi

  # Output the tags segment using -e for dynamic evaluation (required for real-time updates)
  # -b: background color, -f: foreground color, -i: icon, -t: text, -s: state, -e: evaluate
  p10k segment -b $POMODORO_COLOR_TAGS -f 0 -i "$POMODORO_ICON_TAGS " -t '$_POMO_SEGMENT_TAGS' -e -s "_TAGS"
}

# Instant prompt version - shows cached/static content during instant prompt
function instant_prompt_pomotags() {
  prompt_pomotags
}
